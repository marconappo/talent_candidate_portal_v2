<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="DELETE">
        <category>custom</category>
        <client_script><![CDATA[function hriContactsController($scope, spUtil, $location) {

    $scope.$on('data_table.click', function(e, parms) {
        var s = {
            id: 'hri_contact_form',
            table: parms.table,
            sys_id: parms.sys_id,
            view: 'sp'
        };
        $location.search(s);
    });
    /*function to make buttons & tags, spacebar & enter key pressable.*/
    $scope.handleKeyBoardEvent = function(event) {
        if (event.keyCode === 32 || event.keyCode === 13) {
            event.preventDefault();
            event.target.click();
        }
    };
    $scope.isMobile = function() {
        return (window.innerWidth <= 767);
    };
}]]></client_script>
        <controller_as>c</controller_as>
        <css>$sp-space--xl : 24px !default;&#13;
$sp-space--lg : 16px !default;&#13;
.my-contact-panel {&#13;
  background: white;&#13;
  box-shadow: 0px 4px 8px rgba(23, 40, 52, 0.08);&#13;
  border-radius: 8px;&#13;
  padding: 0px $sp-space--xl;&#13;
}&#13;
.mycontact-panel-header-mobile{&#13;
  padding: $sp-space--xl $sp-space--lg;&#13;
}&#13;
&#13;
.mycontact-panel-header{&#13;
  padding: $sp-space--xl;&#13;
}&#13;
&#13;
.seprator {&#13;
  margin: 0px;&#13;
}&#13;
&#13;
&#13;
//removes scroll bar at 400% zoom in 1280x1080 screen size&#13;
	@media screen and (max-width: 360px){&#13;
	  .table &gt; thead &gt; tr &gt; th,&#13;
	    .table &gt; thead &gt; tr &gt; td,&#13;
	    .table &gt; tbody &gt; tr &gt; th,&#13;
	    .table &gt; tbody &gt; tr &gt; td,&#13;
	    .table &gt; tfoot &gt; tr &gt; th,&#13;
	    .table &gt; tfoot &gt; tr &gt; td {&#13;
	      padding: 1px;&#13;
	      white-space: normal;&#13;
	    }&#13;
  }</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>related_record_talent</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Related Record Talent</name>
        <option_schema>[{"name":"table","section":"Data","label":"table","type":"string"}]</option_schema>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
    var user_id = $sp.getParameter("sys_id") || gs.getUserID();
    var candidateGR = new GlideRecord("x_431105_cand_ass_candidate");
    candidateGR.addEncodedQuery("candidate="+user_id); 
    candidateGR.query()
    candidateGR.next()
	data.title = options.title || gs.getMessage('My Contacts'); 
	data.content = options;
    var p = {
        table: options.table,
        fields: options.fields,
        filter: options.filter + candidateGR.sys_id.toString(),
        hide_header: true,
        hide_footer: true,
        show_new: true
    };

    //data.url = "?id=form&table=x_431105_cand_ass_candidate_education_experience&sys_id=-1&view=candidate&candidate="+ candidateGR.sys_id.toString();
    data.url = options.createURL+ candidateGR.sys_id.toString()
		data.list = $sp.getWidget('widget-data-table', p);

    var gr = new GlideRecord(p.table);
    gr.addQuery(p.filter);
    gr.query();

    data.hasRecordsToShow = gr.getRowCount() > 0;

    gr.initialize();
    gr.user = user_id;
    data.canAddContact = gr.canCreate() && gr.canWrite();

    data.publicProfileWidget = $sp.getWidget('public_profile_visibility', {
        'tabWidgetMappingId': data.content ? data.content.tabWidgetMappingId : '',
        'isUserSelectionEnabled': data.content ? data.content.isUserSelectionEnabled : '',
        'widgetTitle': data.content ? data.content.widgetTitle : ''
    });

})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>olivier.gregoire</sys_created_by>
        <sys_created_on>2023-05-31 07:43:06</sys_created_on>
        <sys_id>e4c8f943478725103fa44aff336d43c0</sys_id>
        <sys_mod_count>18</sys_mod_count>
        <sys_name>Related Record Talent</sys_name>
        <sys_package display_value="Talent NOW" source="x_431105_cand_ass">3aeff01497c02110a4deb9dfe153afb4</sys_package>
        <sys_policy/>
        <sys_scope display_value="Talent NOW">3aeff01497c02110a4deb9dfe153afb4</sys_scope>
        <sys_update_name>sp_widget_e4c8f943478725103fa44aff336d43c0</sys_update_name>
        <sys_updated_by>olivier.gregoire</sys_updated_by>
        <sys_updated_on>2023-06-01 15:51:04</sys_updated_on>
        <template><![CDATA[<div id="my-contact-panel" class="panel panel-default b" ng-if="data.hasRecordsToShow || data.canAddContact">
  <div ng-class="{true: 'mycontact-panel-header-mobile', false: 'mycontact-panel-header'}[isMobile()]">
    <h2 class="h4 panel-title ng-binding">
      <div>{{data.title}}</div>
    </h2>
    <div>
      <sp-widget widget="data.publicProfileWidget"></sp-widget>
    </div>
  </div>
  <hr class="seprator" aria-hidden="true">
  <div class="panel-body">
    <div ng-if="data.hasRecordsToShow">
      <sp-widget widget="data.list" />
    </div>
    <a ng-if="data.canAddContact" id="new_contact" href="{{data.url}}" ng-keypress="handleKeyBoardEvent($event)">
      <span> ${Add new {{data.title}}} </span>
    </a>
  </div>]]></template>
    </sp_widget>
<sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Talent NOW">3aeff01497c02110a4deb9dfe153afb4</application>
        <file_path/>
        <instance_id>ce1aa807db352d180b9d21c4059619e3</instance_id>
        <instance_name>dev168883</instance_name>
        <name>sp_widget_e4c8f943478725103fa44aff336d43c0</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;
    &lt;sp_widget action="INSERT_OR_UPDATE"&gt;
        &lt;category&gt;custom&lt;/category&gt;
        &lt;client_script&gt;&lt;![CDATA[function hriContactsController($scope, spUtil, $location) {

    $scope.$on('data_table.click', function(e, parms) {
        var s = {
            id: 'hri_contact_form',
            table: parms.table,
            sys_id: parms.sys_id,
            view: 'sp'
        };
        $location.search(s);
    });
    /*function to make buttons &amp; tags, spacebar &amp; enter key pressable.*/
    $scope.handleKeyBoardEvent = function(event) {
        if (event.keyCode === 32 || event.keyCode === 13) {
            event.preventDefault();
            event.target.click();
        }
    };
    $scope.isMobile = function() {
        return (window.innerWidth &lt;= 767);
    };
}]]&gt;&lt;/client_script&gt;
        &lt;controller_as&gt;c&lt;/controller_as&gt;
        &lt;css&gt;$sp-space--xl : 24px !default;&amp;#13;
$sp-space--lg : 16px !default;&amp;#13;
.my-contact-panel {&amp;#13;
  background: white;&amp;#13;
  box-shadow: 0px 4px 8px rgba(23, 40, 52, 0.08);&amp;#13;
  border-radius: 8px;&amp;#13;
  padding: 0px $sp-space--xl;&amp;#13;
}&amp;#13;
.mycontact-panel-header-mobile{&amp;#13;
  padding: $sp-space--xl $sp-space--lg;&amp;#13;
}&amp;#13;
&amp;#13;
.mycontact-panel-header{&amp;#13;
  padding: $sp-space--xl;&amp;#13;
}&amp;#13;
&amp;#13;
.seprator {&amp;#13;
  margin: 0px;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
//removes scroll bar at 400% zoom in 1280x1080 screen size&amp;#13;
	@media screen and (max-width: 360px){&amp;#13;
	  .table &amp;gt; thead &amp;gt; tr &amp;gt; th,&amp;#13;
	    .table &amp;gt; thead &amp;gt; tr &amp;gt; td,&amp;#13;
	    .table &amp;gt; tbody &amp;gt; tr &amp;gt; th,&amp;#13;
	    .table &amp;gt; tbody &amp;gt; tr &amp;gt; td,&amp;#13;
	    .table &amp;gt; tfoot &amp;gt; tr &amp;gt; th,&amp;#13;
	    .table &amp;gt; tfoot &amp;gt; tr &amp;gt; td {&amp;#13;
	      padding: 1px;&amp;#13;
	      white-space: normal;&amp;#13;
	    }&amp;#13;
  }&lt;/css&gt;
        &lt;data_table&gt;sp_instance&lt;/data_table&gt;
        &lt;demo_data/&gt;
        &lt;description/&gt;
        &lt;docs/&gt;
        &lt;field_list/&gt;
        &lt;has_preview&gt;false&lt;/has_preview&gt;
        &lt;id&gt;related_record_talent&lt;/id&gt;
        &lt;internal&gt;false&lt;/internal&gt;
        &lt;link&gt;&lt;![CDATA[function link(scope, element, attrs, controller) {  }]]&gt;&lt;/link&gt;
        &lt;name&gt;Related Record Talent&lt;/name&gt;
        &lt;option_schema&gt;[{"name":"table","section":"Data","label":"table","type":"string"}]&lt;/option_schema&gt;
        &lt;public&gt;false&lt;/public&gt;
        &lt;roles/&gt;
        &lt;script&gt;&lt;![CDATA[(function() {
    var user_id = $sp.getParameter("sys_id") || gs.getUserID();
    var candidateGR = new GlideRecord("x_431105_cand_ass_candidate");
    candidateGR.addEncodedQuery("candidate="+user_id); 
    candidateGR.query()
    candidateGR.next()
	data.title = options.title || gs.getMessage('My Contacts'); 
	data.content = options;
    var p = {
        table: options.table,
        fields: options.fields,
        filter: options.filter + candidateGR.sys_id.toString(),
        hide_header: true,
        hide_footer: true,
        show_new: true
    };

    //data.url = "?id=form&amp;table=x_431105_cand_ass_candidate_education_experience&amp;sys_id=-1&amp;view=candidate&amp;candidate="+ candidateGR.sys_id.toString();
    data.url = options.createURL+ candidateGR.sys_id.toString()
		data.list = $sp.getWidget('widget-data-table', p);

    var gr = new GlideRecord(p.table);
    gr.addQuery(p.filter);
    gr.query();

    data.hasRecordsToShow = gr.getRowCount() &gt; 0;

    gr.initialize();
    gr.user = user_id;
    data.canAddContact = gr.canCreate() &amp;&amp; gr.canWrite();

    data.publicProfileWidget = $sp.getWidget('public_profile_visibility', {
        'tabWidgetMappingId': data.content ? data.content.tabWidgetMappingId : '',
        'isUserSelectionEnabled': data.content ? data.content.isUserSelectionEnabled : '',
        'widgetTitle': data.content ? data.content.widgetTitle : ''
    });

})();]]&gt;&lt;/script&gt;
        &lt;servicenow&gt;false&lt;/servicenow&gt;
        &lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;olivier.gregoire&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2023-05-31 07:43:06&lt;/sys_created_on&gt;
        &lt;sys_id&gt;e4c8f943478725103fa44aff336d43c0&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;18&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Related Record Talent&lt;/sys_name&gt;
        &lt;sys_package display_value="Talent NOW" source="x_431105_cand_ass"&gt;3aeff01497c02110a4deb9dfe153afb4&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_scope display_value="Talent NOW"&gt;3aeff01497c02110a4deb9dfe153afb4&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sp_widget_e4c8f943478725103fa44aff336d43c0&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;olivier.gregoire&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2023-06-01 15:51:04&lt;/sys_updated_on&gt;
        &lt;template&gt;&lt;![CDATA[&lt;div id="my-contact-panel" class="panel panel-default b" ng-if="data.hasRecordsToShow || data.canAddContact"&gt;
  &lt;div ng-class="{true: 'mycontact-panel-header-mobile', false: 'mycontact-panel-header'}[isMobile()]"&gt;
    &lt;h2 class="h4 panel-title ng-binding"&gt;
      &lt;div&gt;{{data.title}}&lt;/div&gt;
    &lt;/h2&gt;
    &lt;div&gt;
      &lt;sp-widget widget="data.publicProfileWidget"&gt;&lt;/sp-widget&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;hr class="seprator" aria-hidden="true"&gt;
  &lt;div class="panel-body"&gt;
    &lt;div ng-if="data.hasRecordsToShow"&gt;
      &lt;sp-widget widget="data.list" /&gt;
    &lt;/div&gt;
    &lt;a ng-if="data.canAddContact" id="new_contact" href="{{data.url}}" ng-keypress="handleKeyBoardEvent($event)"&gt;
      &lt;span&gt; ${Add new {{data.title}}} &lt;/span&gt;
    &lt;/a&gt;
  &lt;/div&gt;]]&gt;&lt;/template&gt;
    &lt;/sp_widget&gt;
&lt;/record_update&gt;</payload>
        <payload_hash>828225808</payload_hash>
        <record_name>Related Record Talent</record_name>
        <reverted_from/>
        <source>ca05a324471b61103fa44aff336d43d4</source>
        <source_table>sys_upgrade_history</source_table>
        <state>previous</state>
        <sys_created_by>nappoma</sys_created_by>
        <sys_created_on>2023-06-05 07:27:13</sys_created_on>
        <sys_id>e0156724471b61103fa44aff336d4375</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>1888a73ed0e0000001</sys_recorded_at>
        <sys_updated_by>nappoma</sys_updated_by>
        <sys_updated_on>2023-06-05 07:27:13</sys_updated_on>
        <type>Widget</type>
        <update_guid>ec1567244d1b611056daf7ad81552074</update_guid>
        <update_guid_history>ec1567244d1b611056daf7ad81552074:0,bcd42fe07e1b6110787a85ceb38ea793:-976337404,573326108a532110db9983c9d90f87f8:-128657160,a9b2e29c4b1321104c39661b9cfd1be6:-105018453,4e02bcef2287a51040f05c317c25c577:356284890,ce6174235fc7a5101e12ce925064b863:-370106109,21badf07734f251000d64335a3dc98ad:-380256514,07f7478f3bcb251093673b9e0e50dc7c:1491438025,51d6474f24cb251036a088d4ef0f6d2c:-738148310,f986c34fd1cb2510f4e2f38fab6b8a97:1850993181,e9e5030f27cb25102461541edd2b0b21:-1293970175,ab438b0b5bcb2510e334abb2163d1f71:48310466,3303034b94cb2510ac99c58e35f9b4cc:-1483730967,04304acb178725105338ebcc48b320ad:-1208554411,9b00ce8b53872510886ff7da0c454218:-1790218283,d68eb94b3287251008e48e3ca6a746c0:113870691,7d7ebd0b9e87251086de75da103fc1f9:-235473627,cf4ebd0b4f8725101fb95d6316199362:1912490533,82dbb5472d872510e3c6526676d57ae6:-1826368401,d59bf147bc8725108fd4e3a706fcadf4:1173489779,ed6bb50769872510b105b9cd479fb956:-471738377,099a75c304872510986fd01f8252c8ac:-1000881361,e4c8f943e2872510b23ec604d0e1f0c3:1173489779</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="Related Record Talent">d04480b047db61103fa44aff336d4331</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>nappoma</sys_created_by>
        <sys_created_on>2023-06-05 09:43:27</sys_created_on>
        <sys_db_object display_value="" name="sp_widget">sp_widget</sys_db_object>
        <sys_id>7bb6e2a4d283405881b950c3eb8f3b91</sys_id>
        <sys_metadata>e4c8f943478725103fa44aff336d43c0</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Related Record Talent</sys_name>
        <sys_package display_value="Talent NOW" source="x_431105_cand_ass">3aeff01497c02110a4deb9dfe153afb4</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Talent NOW">3aeff01497c02110a4deb9dfe153afb4</sys_scope>
        <sys_scope_delete display_value="Talent NOW">102d0c1703d24bb18e1e1addf418fef1</sys_scope_delete>
        <sys_update_name>sp_widget_e4c8f943478725103fa44aff336d43c0</sys_update_name>
        <sys_update_version display_value="sp_widget_e4c8f943478725103fa44aff336d43c0">e0156724471b61103fa44aff336d4375</sys_update_version>
        <sys_updated_by>nappoma</sys_updated_by>
        <sys_updated_on>2023-06-05 09:43:27</sys_updated_on>
    </sys_metadata_delete>
</record_update>
